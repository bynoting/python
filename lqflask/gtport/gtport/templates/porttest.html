<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf8" />
<title>无标题文档</title>
</head>

<body>
<script src="{{ url_for('static', filename='jquery.js') }}" ></script>
<script type=text/javascript> $SCRIPT_ROOT = {{ request.script_root|tojson|safe }} ;</script>
<script type=text/javascript>
  $(function() {
    $('#calculate').bind('click', function() {
      $.getJSON($SCRIPT_ROOT + '/_add_numbers', {
        a: $('input[name="port1"]').val(),
        b: $('input[name="port2"]').val()
      }, function(data) {
        $("#result").text(data.result);
      });
      return false;
    });

  });
</script>

{% with messages = get_flashed_messages()[0] %}
<li>{{messages}}</li>
{% endwith %}
<form id="form1" name="form1" method="post" action="">
  <table width="363" border="3">
    <tr>
      <td width="353"><label>port1
        
          <input type="text" name="port1" value="{{ports[0]}}"/>
      </label></td>
    </tr>
    <tr>
      <td><label>port2
        <input type="text" name="port2" value="{{ports[1]}}"/>
      </label></td>
    </tr>
    <tr>
      <td>port3
        <input type="text" name="port3" value="{{ports[2]}}" />
        <label>测试
        <input type="submit" name="Submit" value="提交" />
        </label></td>
    </tr>
  </table>

</form>
<a href=# id=calculate>结果</a>
  <span id=result>?</span>
</body>
</html>
